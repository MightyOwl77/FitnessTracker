@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
  
  /* Focus styles for better keyboard navigation */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }
  
  /* Error handling styles */
  .error-message {
    @apply text-red-500 text-sm mt-1;
  }
  
  /* Touch target sizes for mobile - ensure minimum size */
  button, 
  a, 
  [role="button"] {
    @apply min-h-[44px] touch-manipulation;
  }
  
  /* Improved form field focus states */
  input:focus, 
  select:focus, 
  textarea:focus {
    @apply ring-2 ring-primary ring-offset-1;
  }
}

/* Accessibility Styles
** ------------------- */

/* Text Size Adjustments */
:root.text-size-default {
  font-size: 16px;
}

:root.text-size-large {
  font-size: 18px;
}

:root.text-size-larger {
  font-size: 20px;
}

/* Line heights increase with text size for readability */
:root.text-size-large body {
  line-height: 1.6;
}

:root.text-size-larger body {
  line-height: 1.8;
}

/* High Contrast Mode */
:root.contrast-high {
  --background: #000000;
  --foreground: #ffffff;
  --primary: #ffff00;
  --muted: #333333;
  --muted-foreground: #ffffff;
  --border: #ffffff;
  --card: #121212;
  --card-foreground: #ffffff;
  --destructive: #ff6666;
  --destructive-foreground: #000000;
  --success: #00ff00;
  --success-foreground: #000000;
  --accent: #ffff00;
  --accent-foreground: #000000;
  
  /* Increase contrast for all text */
  *:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) {
    font-weight: 500 !important;
  }
  
  /* Bold headings */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 800 !important;
  }
  
  /* Underline all links for visibility */
  a, button {
    text-decoration: underline !important;
  }
  
  /* Add solid borders to interactive elements */
  button, input, select, textarea, [role="button"] {
    border: 2px solid white !important;
  }
  
  /* Increase focus indicator thickness */
  :focus-visible {
    outline-width: 3px !important;
  }
}

/* Reduced Motion */
:root.reduce-motion * {
  transition-duration: 0.001ms !important;
  animation-duration: 0.001ms !important;
}

/* Additional a11y improvements */

/* Skip to content link - appears when focused */
a[href="#main-content"] {
  transition: transform 0.2s ease;
}

/* Ensure inputs are accessible */
input[type="checkbox"],
input[type="radio"] {
  min-width: 24px;
  min-height: 24px;
}

/* Improved spacing for touch targets on mobile */
@media (max-width: 640px) {
  button, 
  a[role="button"], 
  .mobile-touch-target {
    @apply min-h-[48px] p-3;
    margin-bottom: 0.5rem;
  }
  
  /* Increase form element spacing */
  label {
    display: block;
    margin-bottom: 0.5rem;
  }
  
  /* Improved input sizing */
  input:not([type="checkbox"]):not([type="radio"]),
  select,
  textarea {
    min-height: 48px;
    padding: 0.75rem;
  }
}

/* Screen reader utilities */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Improve contrast for placeholder text */
::placeholder {
  @apply text-foreground opacity-60;
}